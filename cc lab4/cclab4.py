import os
import requests

from azure.mgmt.compute import ComputeManagementClient
from azure.identity import DefaultAzureCredential
from azure.mgmt.network import NetworkManagementClient
from azure.mgmt.resource import ResourceManagementClient

##resource group
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourcegroups/PythonAzure?api-version=2021-04-01"
headers = {
    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
}

body = { "location":"westeurope",}

response = requests.put(url, headers=headers, json=body)
print(response.json())

##virtual net
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/virtualNetworks/PythonVnet?api-version=2023-05-01"
headers = {
   "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
}
body = { 
  "properties": {
    "addressSpace": {
      "addressPrefixes": [
        "10.0.0.0/16"
      ]
    },
    "flowTimeoutInMinutes": 10
  },
  "location": "westeurope",
}
response = requests.put(url, headers=headers, json=body)
print(response.json())


##PublicIP
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/publicIPAddresses/PythonIP?api-version=2023-05-01"
headers = {
    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
    
}
body = {
    "properties": {
    "publicIPAllocationMethod": "Static",
    "idleTimeoutInMinutes": 10,
    "publicIPAddressVersion": "IPv4"
  },
  "sku": {
    "name": "Standard",
    "tier": "Regional"
  },
  "location": "westeurope",
}
response = requests.put(url, headers=headers, json=body)
print(response.json())


##Subnet
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/virtualNetworks/PythonVnet/subnets/PythonSubNet?api-version=2023-05-01"
headers = {
    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
}

body = {
    "properties": {
    "addressPrefix": "10.0.0.0/16"
  },
  "location": "westeurope",
}
response = requests.put(url, headers=headers, json=body)
print(response.json())


##NIC
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/networkInterfaces/PythonNIC?api-version=2023-05-01"
headers = {
    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
}
body = {
  "properties": {
    "ipConfigurations": [
      {
        "name": "ipconfig1",
        "properties": {
          "publicIPAddress": {
            "id": "/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/publicIPAddresses/PythonIP"
          },
          "subnet": {
            "id": "/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/virtualNetworks/PythonVnet/subnets/PythonSubNet"
          }
        }
      }
    ]
  },
  "location": "westeurope"
}
response = requests.put(url, headers=headers, json=body)
print(response.json())


##Making VM
url = "https://management.azure.com/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Compute/virtualMachines/PyAzure?api-version=2023-07-01"
headers = {
   "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE3MDAxMzc1MzYsIm5iZiI6MTcwMDEzNzUzNiwiZXhwIjoxNzAwMTQyODc5LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBakNMTTdwSzdYUU1RY25CU1Mwd0QzOFZRYy9JZGFxdEFHNlRFQlEvSXJTWlNVN0lKWEFTOG5ZT2xnSUJXTEpMb2JWOUVXWkNKNXZuc1FzTGJudTNXVGR6VFpUMWViWUJGMHM1d2tLVnIrNG89IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiTWMgTG91Z2hsaW4iLCJnaXZlbl9uYW1lIjoiUnlhbiIsImdyb3VwcyI6WyI4MTA4YzUwMy1kNjU2LTQyY2YtOGVlNC04OTQ0YWVmMGZhZGUiLCI5N2FmODEyZC05NmU5LTRmMDEtOGExMS03NTgwMzM3NjIxN2EiLCI4N2Y2MDAzZC05NDcwLTQzOGYtYmZlZi04MTNiMzdmYzJiNjgiLCI4MzhhMjg5YS04NGE0LTRjYTgtYWVlYy1iMzFlYzFkNzFkNGEiLCI0ZGMwM2I5Zi0xYjZjLTQ0MTUtYWMwNS04MjQyNzEzYzc1MjAiLCI1YWQ3ZDZiNC1hZGFmLTRiOWQtOTU3Zi0wZjNiNjE0YmVlNjAiLCI4YWMxNTRkZC1kNDVmLTRjNDYtOTRlNS1iYjc4ZmVmYTNhZWYiLCI4YzgxODZlYS00MmE0LTQ0YWYtOGE3OC1hZTkxNDAxMWU2YjQiLCJkMmE2YThlZi00ZDI2LTRkOTUtYmQxMS1hYTFlYzYxOWY4MTgiLCJhYmQ0OWRmZC1jZWZiLTRjMzYtYWQ2Ny0yNWZkOWZmZDMzN2YiXSwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTA5LjI1NS4xMDYuMTc0IiwibmFtZSI6IkMyMTQzMTYwNCBSeWFuIE1jIExvdWdobGluIiwib2lkIjoiMzdlMzJmNjctZmQxOS00ZWIxLTgxZWYtNWE5ZTA4MDM5YjU1Iiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTQwMjI5ODg0OS0xNzM0NzA1MTMxLTMxMjAwMjQwMDEtNDM5MjYiLCJwdWlkIjoiMTAwMzIwMDE3REE4QTIxNiIsInJoIjoiMC5BVEVBeXhkamRranBYMDZNN05xOGppX1Yya1pJZjNrQXV0ZFB1a1Bhd2ZqMk1CTXhBRW8uIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoiOV9OOTZYck4zRHQ2c3RxZ1ZPODNQWmFlYk9lcGFqeWE3Z1g2RXV2MnF6NCIsInRpZCI6Ijc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYSIsInVuaXF1ZV9uYW1lIjoiQzIxNDMxNjA0QG15dHVkdWJsaW4uaWUiLCJ1cG4iOiJDMjE0MzE2MDRAbXl0dWR1Ymxpbi5pZSIsInV0aSI6IjdGajlnSU5xajBTV2phOUNFR0FYQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2FlIjoiMSIsInhtc190Y2R0IjoxNTI1MzM4OTQxfQ.RPaK3XGm0qyrT4pVSeMn8tjTYhckBBmUj5eHMQs7Bx0ppkJxSBHONG6eQMA1QbapDPSHtCBSVQpAiDz4YP6elpOwVg_0LlBga1oata224xbr6pCQUj1zwXjqfd61SRFvQgulliydbmaDxFDe80vC4vk1PRgAvnbWD9C5UFCIz2q6A-CJUcruL8lstpzHogqqGLEH9I9wpaI4Kin9mxS33MTeAP01JH9yzRqzC4bBJKkQfS3KOXePS092BV72EU0A2jzGCziOqSZiqG4m9WEi5q_5VQeBDtsrbBDON98Tm3EdJG0NF_hi7h1TEv6zgVUiN0um6O_HI5vNpKSczNYLcA",
  	"Content-type": "application/json"
}
body = {
  "id": "/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Compute/virtualMachines/PyAzure",
  "type": "Microsoft.Compute/virtualMachines",
  "properties": {
    "osProfile": {
      "adminUsername": "Ryan",
      "secrets": [
        
      ],
      "computerName": "PyVM",
      "linuxConfiguration": {
        "ssh": {
          "publicKeys": [
            {
              "path": "/home/Ryan/.ssh/authorized_keys",
              "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCsxP2gmr2VhefmSeB07WtVpOP3IquuVmGgx23jjW7i hA+rJjsUnEA/ uf5a9Qr5tvA3fDlaADTKOn8A54j2KVut1My4soro4YL5ziyiIYjzcn9CCI7EUscB41f1vNQqGuhvJot2 UB4mKRLDgJgtCUzM5jm5Su32yJQa1Zybl9uxyU/ BFnK3JFiynoMl30ADbZYBz6owc4+yFJDy46l0SiAiOJRKlPQmrH10YMnWQyiFrON07b2RJRyPr80 QXt9t+ynWGwJeO5nv1WQZirNVuzze1yWCQtQ8L3ySFSj9LA3Xw2n34NEWUvK6PMGmJf1+Fnx jVzC6KxExKkglXXfcv8N9 paul@paul "
            }
          ]
        },
        "disablePasswordAuthentication": "true"
      }
    },
    "networkProfile": {
      "networkInterfaces": [
        {
          "id": "/subscriptions/fe8dae68-fa89-4ee7-b8a4-72d42c38ab52/resourceGroups/PythonAzure/providers/Microsoft.Network/networkInterfaces/PythonNIC",
          "properties": {
            "primary": "true"
          }
        }
      ]
    },
    "storageProfile": {
      "imageReference": {
        "sku": "16.04-LTS",
        "publisher": "Canonical",
        "version": "latest",
        "offer": "UbuntuServer"
      },
      "dataDisks": [
        
      ]
    },
    "hardwareProfile": {
      "vmSize": "Standard_D1_v2"
    },
    "provisioningState": "Creating"
  },
  "name": "PyAzure",
  "location": "westeurope",
}
response = requests.put(url, headers=headers, json=body)
print(response.json())
